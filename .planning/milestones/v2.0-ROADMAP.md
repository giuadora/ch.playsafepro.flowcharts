# Milestone v2.0: Flowchart Split

**Status:** SHIPPED 2026-02-13
**Phases:** 7-9
**Total Plans:** 7

## Overview

Split the single inspection flowchart into two separate flowcharts — FC1 (Neuer Spielplatz) for new playground commissioning and FC2 (Bestehender Spielplatz) for the ongoing inspection cycle — with node corrections, renamed inspection types per SN EN 1176-7, updated footnotes, subprocess symbol, and full quality verification.

## Phases

### Phase 7: Flowchart Split & File Structure
**Goal**: Create two independent flowcharts from current single file with correct file names and basic structure
**Depends on**: Phase 6
**Plans**: 1 plan

Plans:
- [x] 07-01: Split flowchart into two independent draw.io files (FC1 + FC2) with human verification

**Details:**
- Created FC1 (Neuer-Spielplatz.drawio) with new playground commissioning path (START to E00)
- Created FC2 (Bestehender-Spielplatz.drawio) with ongoing inspection cycle (E00 to END with loop-back)
- Added distinct subtitles: "Neuer Spielplatz" (blue) for FC1, "Bestehender Spielplatz" (green) for FC2
- Filtered footnotes: 1-2 for FC1, 3-8 for FC2
- Requirements: SPLIT-01, SPLIT-02, SPLIT-03, SPLIT-04, FILE-01

### Phase 8: Node Modifications & Norm Compliance
**Goal**: Apply all node changes and ensure complete norm compliance through footnote audit
**Depends on**: Phase 7
**Plans**: 2 plans

Plans:
- [x] 08-01: FC1 node modifications: green installation inspection, subprocess Inspektionsplan, footnote audit
- [x] 08-02: FC2 node modifications: green Bericht archivieren, SN EN 1176-7 inspection terminology, footnote audit

**Details:**
- Applied green color scheme to FC1 N02 "Inspektion nach Installation"
- Rendered FC1 IPLAN as subprocess symbol (shape=process, double-bordered rectangle)
- Added footnote 3 for Inspektionsplan referencing SN EN 1176-7 6.2.4
- Renamed FC2 inspection types: Visuelle Routine-Inspektion, Operative Inspektion, Jaehrliche Hauptinspektion
- Changed FC2 P01 "Bericht archivieren" from gray terminal to green rectangle
- Requirements: NODE-01, NODE-02, NODE-03, NODE-04, REF-01, REF-02, REF-03

### Phase 9: Documentation & Quality Verification
**Goal**: Update all documentation and verify both flowcharts pass quality gates
**Depends on**: Phase 8
**Plans**: 4 plans

Plans:
- [x] 09-01: Legend subprocess symbol, QR code updates, and README updates (DOC-01, DOC-02, DOC-03, FILE-02, FILE-03)
- [x] 09-02: Automated quality checks and visual verification (QA-01 through QA-06)
- [x] 09-03: Generate SVG, PDF, and Mermaid exports + update READMEs (gap closure)
- [x] 09-04: Fix SVG subprocess rendering and Mermaid subprocess syntax (UAT gap closure)

**Details:**
- Updated legends with subprocess symbol in both flowcharts
- Generated per-flowchart QR codes for PDF download and shared README
- Created automated QA script (qa_checks.py) validating 6 quality dimensions
- Redesigned FC1 layout with larger nodes (200px, fontSize=10) for readability
- Fixed FC2 P01 routing to sequential flow (E04 -> P01 -> IHM)
- Generated SVG, PDF, and Mermaid exports for both flowcharts
- Fixed subprocess double-border rendering (vertical lines) and Mermaid [[text]] syntax
- All 7 UAT tests pass
- Requirements: DOC-01, DOC-02, DOC-03, FILE-02, FILE-03, QA-01 through QA-06

---

## Milestone Summary

**Key Decisions:**
- Split single flowchart into two focused files for better clarity (reversing v1.0 decision to combine)
- Used SN EN 1176-7 standard terminology for inspection types (professional compliance)
- Vertical lines for subprocess double-border rendering (matching flowchart standards)
- Multi-stage quality verification combining automated checks with human visual approval

**Issues Resolved:**
- FC1 Nachbesserung loop overlap fixed by routing around outside of flow
- FC2 P01 dead-end side branch fixed to sequential routing
- Footer/legend overlap fixed by repositioning footer from y=1045 to y=1065
- N03 color inconsistency (blue to yellow) for defect-handling semantics
- Subprocess rendering using vertical lines instead of inner rectangle

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- None

---

_For current project status, see .planning/ROADMAP.md_
